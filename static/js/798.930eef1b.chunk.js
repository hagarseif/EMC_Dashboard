"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[798],{3798:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var n=s(3009),a=s(9773),c=s(3464),l=s(4448),r=s(9037),i=s(9399),d=s(6167),o=s(2976),m=s(8118),h=s(9127),x=s(8755),p=s(5294),u=s(2791),j=(s(255),s(184));const b=e=>{let{form:t,toggleFom:s,data:n}=e;const{serviceId:a,name:c,icon:l}=n||{},[r,i]=(0,u.useState)(c||""),[d,o]=(0,u.useState)(l||null),m={headers:{"Content-Type":"multipart/form-data"}};return(0,u.useEffect)((()=>{i(c||""),o(l||null)}),[c,l,a]),(0,j.jsx)(j.Fragment,{children:t&&(0,j.jsx)("div",{className:"overlay min-h-screen flex items-center justify-center",children:(0,j.jsxs)("div",{className:"form bg-white p-8 rounded shadow-md w-full max-w-md",children:[(0,j.jsxs)("form",{className:"popup",onSubmit:e=>{e.preventDefault(),console.log("Name:",r),console.log("Icon:",d);const t=new FormData;t.append("name",r),t.append("icon",d),console.log("Icon:",d),p.Z.put("http://emc2db-001-site1.itempurl.com/api/Serviece/UpdateService/".concat(a),t,m).then((e=>{console.log(e.data)})).catch((e=>{console.log(e.response)})),s()},children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{htmlFor:"text-input",className:"block text-sm font-bold text-gray-700",children:"Name:"}),(0,j.jsx)("input",{type:"text",id:"text-input",name:"text-input",placeholder:"Edit Name",className:"w-full px-3 py-2 border rounded mt-1",onChange:e=>{i(e.target.value)},value:r})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{htmlFor:"file-input",className:"block text-sm font-bold text-gray-700",children:"Icon:"}),(0,j.jsx)("input",{type:"file",id:"file-input",name:"file-input",className:"w-full px-3 py-2 border rounded mt-1",onChange:e=>{o(e.target.files[0])}})]}),(0,j.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Submit"})]}),(0,j.jsx)("button",{className:"close-btn btn btn-danger py-0 px-2 rounded-t-sm",onClick:s,children:"x"})]})})})},v=()=>{const[e,t]=(0,u.useState)(!1),s=()=>{t(!e)};e?document.body.classList.add("active"):document.body.classList.remove("active");const v="http://emc2db-001-site1.itempurl.com",[g,f]=(0,u.useState)([]);(0,u.useEffect)((()=>{p.Z.get("".concat(v).concat("/api/Serviece/GetAllServices")).then((e=>{f(e.data)})).catch((e=>{console.error("Error fetching text data:",e)}))}),[]);const[N,S]=(0,u.useState)(""),[Z,y]=(0,u.useState)(""),w={headers:{"content-type":"multipart/form-data"}},[C,k]=(0,u.useState)(null),F=C&&(0,j.jsx)(b,{form:e,toggleFom:s,data:(I=C,g.find((e=>e.serviceId===I)))});var I;return(0,j.jsxs)(n.Z,{children:[(0,j.jsx)(a.Z,{children:(0,j.jsxs)(c.Z,{children:[(0,j.jsxs)(l.Z,{tag:"h6",className:"border-bottom p-3 mb-0",children:[(0,j.jsx)("i",{className:"bi bi-bell me-2",children:" "}),"Add new Service"]}),(0,j.jsx)(r.Z,{children:(0,j.jsxs)(i.Z,{onSubmit:e=>(e=>{e.preventDefault();const t=new FormData;t.append("name",N),t.append("icon",Z),console.log(Z),p.Z.post("".concat(v).concat("/api/Serviece/AddService"),t,w).then((e=>{console.log(e.data)})).catch((e=>console.log(e))),S(""),y("")})(e),children:[(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(o.Z,{for:"serviceName",children:"Service name"}),(0,j.jsx)(m.Z,{id:"serviceName",name:"name",placeholder:"Add Service name",type:"text",value:N,onChange:e=>(e=>{S(e.target.value)})(e)})]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(o.Z,{for:"exampleFile",children:"Add Icon"}),(0,j.jsx)(m.Z,{id:"exampleFile",name:"icon",type:"file",onChange:e=>(e=>{y(e.target.files[0])})(e)})]}),(0,j.jsx)(h.Z,{className:"btn mt-2",color:"primary",children:"Add"})]})})]})}),(0,j.jsx)(n.Z,{children:(0,j.jsx)(a.Z,{lg:"12",children:(0,j.jsx)("div",{children:(0,j.jsx)(c.Z,{children:(0,j.jsxs)(r.Z,{children:[(0,j.jsx)(l.Z,{tag:"h5",children:" Services we offer"}),(0,j.jsxs)(x.Z,{className:"no-wrap mt-3 align-middle",responsive:!0,borderless:!0,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Service name"}),(0,j.jsx)("th",{children:"Service Icon"}),(0,j.jsx)("th",{children:"Edit"}),(0,j.jsx)("th",{children:"Delete"})]})}),(0,j.jsx)("tbody",{children:g.map(((e,t)=>(0,j.jsxs)("tr",{className:"border-top",onClick:()=>{return t=e.serviceId,void k(t);var t},children:[(0,j.jsx)("td",{children:(0,j.jsx)("div",{className:"d-flex align-items-center p-2",children:(0,j.jsx)("div",{className:"ms-3",children:(0,j.jsx)("h6",{className:"mb-0",children:e.name})})})}),(0,j.jsxs)("td",{children:[(0,j.jsx)("img",{className:"w-40",src:"data:image/svg+xml;base64,".concat(e.icon),alt:""}),(0,j.jsx)("img",{className:"w-50",src:"data:image/jpeg;charset=utf-8;base64,".concat(e.icon),alt:""})]}),(0,j.jsx)("td",{children:(0,j.jsx)("button",{className:"btn btn-primary",color:"info",onClick:s,children:"Edit"})}),(0,j.jsx)("td",{children:(0,j.jsx)("button",{className:"btn btn-danger",color:"danger",onClick:()=>{return t=e.serviceId,void p.Z.delete("".concat(v,"/api/Serviece/DeleteService/").concat(t)).then((e=>{console.log(e.data)}));var t},children:"Delete"})})]},t)))})]})]})})})})}),F]})}},255:()=>{}}]);
//# sourceMappingURL=798.930eef1b.chunk.js.map